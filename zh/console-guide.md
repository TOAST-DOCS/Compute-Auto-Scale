## 计算 > 弹性伸缩 > 控制台使用指南

## 实例模板
### 创建实例模板

如果通过auto scale创建实例，需要先创建实例模板。
创建实例模板需要定义如下条目。

<table class="it">
  <tr>
    <th>分类</th>
    <th>项目</th>
    <th>描述</th>
  </tr>
  <tr>
    <td rowspan="2">模板信息</td>
    <td>名称</td>
    <td>实例模板的名称</td>
  </tr>
  <tr>
    <td>描述</td>
    <td>针对实例模板的描述说明。限于255个英文字符以内。</td>
  </tr>
  <tr>
    <td rowspan="8">实例信息</td>
    <td>镜像</td>
    <td>作为实例模板使用的实例镜像。</td>
  </tr>
  <tr>
    <td>名称</td>
    <td>将要创建的实例的名称。<br>使用同一个实例模板创建的实例都具有相同的名称。</td>
  </tr>
  <tr>
    <td>可用区(availability zone)</td>
    <td>可创建实例的区域</td>
  </tr>
  <tr>
    <td>规格(flavor)</td>
    <td>创建的实例所具备的规格</td>
  </tr>
  <tr>
    <td>系统盘大小</td>
    <td>创建的实例默认的磁盘大小，<br>单位为GB。大小受实例规格的限制</td>
  </tr>
  <tr>
    <td>密钥对(key pair)</td>
    <td>创建实例后访问实例所需的密钥</td>
  </tr>
  <tr>
    <td>安全组(security group)</td>
    <td>创建的实例所适用的安全规则</td>
  </tr>
  <tr>
    <td>网络</td>
    <td>创建的实例所要连接的网络。<br>最多可建立4个连接，连接顺序非常重要。 <br>第一个网络地址将被设置为默认网关</td>
  </tr>【】
  <tr>
    <td rowspan="4">补充信息</td>
    <td>浮动IP</td>
    <td>是否在创建的实例中分配浮动IP</td>
  </tr>
  <tr>
    <td>数据盘名称</td>
    <td>向创建的实例额外分配的磁盘的名称</td>
  </tr>
  <tr>
    <td>数据盘大小</td>
    <td>向创建的实例额外分配的卷的大小<br>单位为GB，只允许10 ~ 1000GB之间的值</td>
  </tr>
  <tr>
    <td>用户脚本</td>
    <td>当创建的实例启动后立即运行的脚本。<br>最多允许65535个英文字符</td>
  </tr>
</table>

> [参考]新增数据盘只能通过用户脚本挂载后才可使用。详细步骤请参考[块存储指南](/Storage/Block%20Storage/zh/overview/#_2)。

<br>

> [注意]实例模板创建后将不可修改。

## 伸缩组
### 查看伸缩组列表
显示当前活动的伸缩组。您可以在查询列表页面查看每个伸缩组的状态。

- 最小/最大实例：表示伸缩组可以创建的最小/最大实例数。
- 当前实例：表示伸缩组当前拥有的实例数。
- 实例模板：表示伸缩组当前使用的的实例模板。
- 负载均衡：表示伸缩组当前使用的负载均衡。
- 状态：表示伸缩组的状态。您可以确认伸缩组策略触发是否成功。伸缩组状态列表如下所示：

| 状态 | 描述 |
|--|--|
| CREATE_IN_PROGRESS | 表示伸缩组正在创建 |
| CREATE_COMPLETE | 表示伸缩组创建成功<br>按照投入实例数创建实例 |
| CREATE_FAILED | 表示伸缩组创建失败<br>联系客服 |
| UPDATE_IN_PROGRESS | 表示伸缩组正在更新 |
| UPDATE_COMPLETE | 表示修改伸缩组或触发伸缩策略，引发其资源发生改变 |
| UPDATE_FAILED | 表示伸缩组操作失败<br>联系客服 |

### 创建伸缩组
您可以在伸缩组中定义以下条目。

<table class="sg">
  <tr>
    <th>分类</th>
    <th>项目</th>
    <th>描述</th>
  </tr>
  <tr>
    <td rowspan="5">设置</td>
    <td>名称</td>
    <td>表示伸缩组名称，使用大小写英文字母, '-', '.'及数字，限于20字以内</td>
  </tr>
  <tr>
    <td>实例模板</td>
    <td>用于伸缩组的实例模板</td>
  </tr>
  <tr>
    <td>最小实例</td>
    <td>伸缩组激活期间保持的最少实例数</td>
  </tr>
  <tr>
    <td>最大实例</td>
    <td>伸缩组激活期间可创建的最大实例数</td>
  </tr>
  <tr>
    <td>投入实例</td>
    <td>伸缩组首次激活时创建的实例数</td>
  </tr>
  <tr>
    <td rowspan="4">策略</td>
    <td>条件</td>
    <td>伸/缩策略的触发条件<br>指定要监控的性能指标，参考值和持续时间</td>
  </tr>
  <tr>
    <td>Condition Operator</td>
    <td>触发条件之间应用的运算符<br>选择`and`表示满足所有条件时才可触发策略<br>选择`or`表示在多项条件中满足其一即可触发策略</td>
  </tr>
  <tr>
    <td>实例</td>
    <td>触发策略所生成或删除的实例数</td>
  </tr>
  <tr>
    <td>冷却时间(cooldown time)</td>
    <td>当前触发至下一次触发之间的等待时间<br>如果冷却时间未达到，即使满足条件也无法触发策略。</td>
  </tr>
  <tr>
    <td>负载均衡</td>
    <td>选取的负载均衡</td>
    <td>创建的实例将要连接的负载均衡</td>
  </tr>
</table>

### 查看及编辑详情
在伸缩组列表中选择目标伸缩组以查看详细信息。

在详情页面中选择`编辑`可修改伸缩组属性。通过修改伸缩组属性可以更改当前使用中的实例模板或最小/最大/投入实例。

### 查看及运行策略
在伸缩组列表中选择目标伸缩组以查看伸缩策略。

在伸缩策略页面选择`编辑`可修改伸缩策略。或者，在伸/缩策略中选择`运行`强制触发策略。

### 查看及创建计划任务
在伸缩组列表中选择目标伸缩组以查看计划任务。

可以通过计划任务在指定的时间对伸缩组最小/最大/投入实例数进行调整。
计划任务可以设置为仅运行一次或定期运行。

创建计划任务需要定义以下条目。

| 项目 | 描述 |
|--|--|
| 名称 | 计划任务的名称 |
| 变更项目 | 计划任务要更改的伸缩组属性<br>在最小/最大/投入实例中选择一项 |
| 值 | 在更改条目中指定的新属性值<br>在指定的时间用该值替换`更改条目`中所选的属性 |
| 重复 | 计划任务是否重复<br>1次或Cron表达式两个选项中选择一个|
| Cron表达式 | 当`重复`选择Cron表达式时被激活 |
| 开始时间 | 计划任务开始的时间<br>若`重复`选择1次，则在开始时间执行计划任务<br>若`重复`选择Cron表达式，则以开始时间为节点定期执行计划任务 |
| 结束时间 | 计划任务结束的时间<br>当`重复`选择Cron表达式时被激活 |

> [参考] Cron表达式是表示计划任务执行时间和频率的表达式。
>
> Cron表达式由5个条目组成，每个条目用空格字符分隔。各条目定义如下。
>
> | 条目 | 允许范围 | 可用的特殊字符 |
> |--|--|--|
> | 分钟 | 0-59 | `*` `,` `-` |
> | 小时 | 0-23 | `*` `,` `-` |
> | 日 | 1-31 | `*` `,` `-` `?` `L` `W` |
> | 月 | 1-12<br>JAN-DEC | `*` `,` `-` |
> | 周 | 0-6<br>SUN-SAT | `*` `,` `-` `?` `L` `#` |
>
> 各条目均应用数字或特殊字符指定执行时间。语法如下。
>
> | 特殊字符 | 含义 |
> |--|--|
> | * | 所有时间 |
> | ? | 任意时间 |
> | - | 范围 |
> | , | 特定时间 |
> | / | 增量 |
> | L | 末节时间 |
> | W | 最近的工作日。仅适用于**日**条目 |
> | # | 第N个星期。仅适用于**星期**条目 |
>
> Cron表达式具体事例。
>
> `0 10 * * *`: 每日10点0分执行<br>
> `0/20 15 * * *`: 每日15点0分起每隔20分钟执行一次，即15点0分，20分， 40分各执行一次<br>
> `0 12-15 * * *`: 每日12点，13点，14点，15点0分执行<br>
> `0 0 15 6,7,8 *`: 6月7月8月15日0点0分执行<br>
> `0 0 L * *`: 每月最后一天0点0分执行<br>
> `0 9 25W * *`: 在每月25日最近的工作日9点执行<br>
> `0 9 ? * 3#2`: 每月第二个星期四9点0分执行

<br>

> [注意] 计划任务的开始时间必须要晚于当前时间至少3分钟以上。当伸缩组处于更新状态时计划任务的执行可能会发生延迟。

### 查看创建的实例列表
在伸缩组列表中选择目标伸缩组以查看创建的实例列表。

> [注意] 伸缩组创建的实例也会显示在实例产品列表中。但用户无法随意操作。

